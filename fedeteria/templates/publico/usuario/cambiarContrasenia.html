{% extends 'basic-structure-w-sidebar.html' %} {% block title %}
<title>Cambiar contraseña | Fedeteria</title>
{% endblock %} {% block second_navbar %}
<a
  href="/perfil"
  class="font-semibold text-gray-400 hover:underline"
>
  Perfil
</a>

<span class="mx-5 font-bold text-gray-500"> / </span>

<a
  href="/perfil/cambiarcontrasenia"
  class="font-semibold text-gray-400 hover:underline"
>
  Cambiar contraseña
</a>

{% endblock %} {% block main %}
<div
  class="bg-gray-100 shadow-md max-w-[95vw] sm:max-w-5xl w-full border py-8 px-16 rounded-lg"
>
  <div
    class="w-fit mx-auto bg-gray-200 rounded-md border-gray-500 text-gray-700 px-2 py-1 sm:px-4 sm:py-2"
    role="alert"
  >
    <p class="font-bold text-xs">
      Tu nueva contraseña debe ser diferente de la actual y debe contener:
    </p>
    <ul class="list-disc list-inside text-xs">
      <li>Minimo 6 caracteres.</li>
      <li>Al menos 1 letra minúscula.</li>
      <li>Al menos 1 letra mayúscula.</li>
      <li>Al menos 1 número.</li>
    </ul>
  </div>
  {% if messages %} {% for message in messages %}
  <div>
    {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
    <div
      class="bg-red-500 text-white p-4 rounded-lg shadow-md"
      role="alert"
    >
      {{ message }}
    </div>
    {% else %}
    <div
      class="bg-green-500 text-white p-4 rounded-lg shadow-md"
      role="alert"
    >
      {{ message }}
    </div>
    {% endif %}
  </div>
  {% endfor %} {% endif %}
  <form
    class="mt-4 flex flex-col gap-4 items-center"
    method="POST"
  >
    {% csrf_token %}
    <div class="w-5/6 sm:max-w-[50%]">
      <label
        for="current_password"
        class="block text-sm font-medium leading-6 text-neutral-900"
      >
        Contraseña actual
      </label>
      <div class="mt-2">
        <input
          id="current_password"
          name="current_password"
          type="password"
          autocomplete="current_password"
          class="block w-full rounded-md border-0 px-2 py-1.5 text-neutral-900 shadow-sm outline-none ring-1 ring-inset ring-neutral-300 hover:ring-1 hover:ring-amber-700 focus:ring-2 focus:ring-inset focus:ring-amber-600 sm:text-sm sm:leading-6"
          required
        />
      </div>
    </div>
    <div class="w-5/6 sm:max-w-[50%]">
      <label
        for="password"
        class="flex items-end justify-between text-sm font-medium leading-6 text-neutral-900"
      >
        Contraseña nueva
      </label>
      <div class="mt-2">
        <input
          id="new_password"
          name="new_password"
          type="password"
          pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,16}$"
          minlength="8"
          maxlength="16"
          autocomplete="new_password"
          class="block w-full rounded-md border-0 px-2 py-1.5 text-neutral-900 shadow-sm outline-none ring-1 ring-inset ring-neutral-300 hover:ring-1 hover:ring-amber-700 focus:ring-2 focus:ring-inset focus:ring-amber-600 sm:text-sm sm:leading-6"
          required
        />
      </div>
    </div>
    <div class="w-5/6 sm:max-w-[50%]">
      <label
        for="repeat_password"
        class="block text-sm font-medium leading-6 text-neutral-900"
      >
        Repetir Contraseña nueva
      </label>
      <div class="mt-2">
        <input
          id="repeat_password"
          name="repeat_password"
          type="password"
          pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,16}$"
          minlength="8"
          maxlength="16"
          autocomplete="repeat_password"
          class="block w-full rounded-md border-0 px-2 py-1.5 text-neutral-900 shadow-sm outline-none ring-1 ring-inset ring-neutral-300 hover:ring-1 hover:ring-amber-700 focus:ring-2 focus:ring-inset focus:ring-amber-600 sm:text-sm sm:leading-6"
          required
        />
      </div>
    </div>
    <button
      type="submit"
      class="group/link flex w-48 items-center justify-center gap-2 px-4 py-2 text-base font-medium text-orange-600 transition-all duration-300 transform bg-orange-200 rounded hover:bg-orange-400 hover:text-orange-900 focus:bg-orange-400 focus:outline-none"
    >
      Cambiar Contraseña
    </button>
  </form>
</div>

{% endblock %}
